<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Python for Humanities: Data Types and Formats</title><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" type="text/css" href="assets/styles.css"><script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png"><link rel="manifest" href="site.webmanifest"><link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"></head><body>
    <header id="top" class="navbar navbar-expand-md navbar-light bg-white top-nav incubator"><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-6">
      <div class="large-logo">
        <img alt="Carpentries Incubator" src="assets/images/incubator-logo.svg"><abbr class="badge badge-light" title="This lesson is in the alpha phase, which means that it has been taught once and lesson authors are iterating on feedback." style="background-color: #FFC700; border-radius: 5px">
          <a href="https://cdh.carpentries.org/the-lesson-life-cycle.html#field-testing-alpha-stage" class="external-link alert-link" style="color: #383838">
            <i aria-hidden="true" class="icon" data-feather="alert-triangle" style="border-radius: 5px"></i>
            Alpha
          </a>
          <span class="visually-hidden">This lesson is in the alpha phase, which means that it has been taught once and lesson authors are iterating on feedback.</span>
        </abbr>
        
      </div>
    </div>
    <div class="selector-container">
      
      
      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Learner View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/data-types-and-format.html';">Instructor View</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl navbar-light bg-white bottom-nav incubator" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Carpentries Incubator" src="assets/images/incubator-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Python for Humanities
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Python for Humanities
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossary</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Learner Profiles</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><li><a class="dropdown-item" href="discuss.html">Discussion</a></li><li><a class="dropdown-item" href="reference.html"></a></li>
          </ul></li>
      </ul></div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a class="btn btn-primary" href="aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Python for Humanities
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 32%" class="percentage">
    32%
  </div>
  <div class="progress incubator">
    <div class="progress-bar incubator" role="progressbar" style="width: 32%" aria-valuenow="32" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Learner View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/data-types-and-format.html">Instructor View</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->
      
            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Setup</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="short-introduction-to-Python.html">1. Short Introduction to Programming in Python</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="starting-with-data.html">2. Starting With Data</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="index-slice-subset.html">3. Indexing, Slicing and Subsetting DataFrames in Python</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        4. Data Types and Formats
        </span>
      </button>
    </div><!--/div.accordion-header-->
        
    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#types-of-data">Types of Data</a></li>
<li><a href="#pandas-and-type-conversion">Pandas and type conversion</a></li>
<li><a href="#missing-data-values---nan">Missing Data Values - NaN</a></li>
<li><a href="#recap">Recap</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="merging-data.html">5. Combining DataFrames with pandas</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="loops-and-functions.html">6. Data workflows and automation</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="visualization-ggplot-python.html">7. Plotting</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush9">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading9">
        <a href="working-with-sql.html">8. Accessing SQLite Databases Using Python &amp; Pandas</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush10">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading10">
        <a href="putting-it-all-together.html">9. Putting It All Together</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossary</a>
                      </li>
                      <li>
                        <a href="profiles.html">Learner Profiles</a>
                      </li>
                      <li><a href="discuss.html">Discussion</a></li><li><a href="reference.html"></a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width resources"><a href="aio.html">See all in one page</a>
            

            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">
            
            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Previous and Next Chapter"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="index-slice-subset.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="merging-data.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="index-slice-subset.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Indexing, Slicing
        </a>
        <a class="chapter-link float-end" href="merging-data.html" rel="next">
          Next: Combining DataFrames... 
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Data Types and Formats</h1>
        <p>Last updated on 2024-05-16 |
        
        <a href="https://github.com/carpentries-incubator/python-humanities-lesson/edit/main/episodes/data-types-and-format.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
        
        
        
        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>What types of data can be contained in a DataFrame?</li>
<li>Why is the data type important?</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul><li>Describe how information is stored in a Python DataFrame.</li>
<li>Define the two main types of data in Python: text and numerics.</li>
<li>Examine the structure of a DataFrame.</li>
<li>Modify the format of values in a DataFrame.</li>
<li>Describe how data types impact operations.</li>
<li>Define, manipulate, and interconvert integers and floats in
Python.</li>
<li>Analyze datasets having missing/null values (NaN values).</li>
</ul></div>
</div>
</div>
</div>
</div>
<p>The format of individual columns and rows will impact analysis
performed on a dataset read into python. For example, you can’t perform
mathematical calculations on a string (text formatted data). This might
seem obvious, however sometimes numeric values are read into python as
strings. In this situation, when you then try to perform calculations on
the string-formatted numeric data, you get an error.</p>
<p>In this lesson we will review ways to explore and better understand
the structure and format of our data.</p>
<section id="types-of-data"><h2 class="section-heading">Types of Data<a class="anchor" aria-label="anchor" href="#types-of-data"></a>
</h2>
<hr class="half-width"><p>How information is stored in a DataFrame or a python object affects
what we can do with it and the outputs of calculations as well. There
are two main types of data that we’re explore in this lesson: numeric
and text data types.</p>
<div class="section level3">
<h3 id="numeric-data-types">Numeric Data Types<a class="anchor" aria-label="anchor" href="#numeric-data-types"></a></h3>
<p>Numeric data types include integers and floats. A <strong>floating
point</strong> (known as a float) number has decimal points even if that
decimal point value is 0. For example: 1.13, 2.0 1234.345. If we have a
column that contains both integers and floating point numbers, Pandas
will assign the entire column to the float data type so the decimal
points are not lost.</p>
<p>An <strong>integer</strong> will never have a decimal point. Thus if
we wanted to store 1.13 as an integer it would be stored as 1.
Similarly, 1234.345 would be stored as 1234. You will often see the data
type <code>Int64</code> in python which stands for 64 bit integer. The
64 simply refers to the memory allocated to store data in each cell
which effectively relates to how many digits it can store in each
“cell”. Allocating space ahead of time allows computers to optimize
storage and processing efficiency.</p>
</div>
<div class="section level3">
<h3 id="text-data-type">Text Data Type<a class="anchor" aria-label="anchor" href="#text-data-type"></a></h3>
<p>Text data type is known as Strings in Python, or Objects in Pandas.
Strings can contain numbers and / or characters. For example, a string
might be a word, a sentence, or several sentences. A Pandas object might
also be a plot name like ‘plot1’. A string can also contain or consist
of numbers. For instance, ‘1234’ could be stored as a string. As could
‘10.23’. However <strong>strings that contain numbers can not be used
for mathematical operations</strong>!</p>
<p>Pandas and base Python use slightly different names for data types.
More on this is in the table below:</p>
<table class="table"><colgroup><col width="9%"><col width="17%"><col width="73%"></colgroup><thead><tr class="header"><th>Pandas Type</th>
<th>Native Python Type</th>
<th>Description</th>
</tr></thead><tbody><tr class="odd"><td>object</td>
<td>string</td>
<td>The most general dtype. Will be assigned to your column if column
has mixed types (numbers and strings).</td>
</tr><tr class="even"><td>int64</td>
<td>int</td>
<td>Numeric characters. 64 refers to the memory allocated to hold this
character.</td>
</tr><tr class="odd"><td>float64</td>
<td>float</td>
<td>Numeric characters with decimals. If a column contains numbers and
NaNs(see below), pandas will default to float64, in case your missing
value has a decimal.</td>
</tr><tr class="even"><td>datetime64, timedelta[ns]</td>
<td>N/A (but see the <a href="https://doc.python.org/2/library/datetime.html" class="external-link">datetime</a>
module in Python’s standard library)</td>
<td>Values meant to hold time data. Look into these for time series
experiments.</td>
</tr></tbody></table></div>
<div class="section level3">
<h3 id="checking-the-format-of-our-data">Checking the format of our data<a class="anchor" aria-label="anchor" href="#checking-the-format-of-our-data"></a></h3>
<p>Now that we’re armed with a basic understanding of numeric and text
data types, let’s explore the format of our survey data.</p>
<p>We alreayd learned that <code>DataFrame.dtypes</code> will return
info on all the columns, but we can also check the type of one column in
a DataFrame using the syntax
<code>dataFrameName[column_name].dtype</code>:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>works_df[<span class="st">'subjects'</span>].dtype</span></code></pre>
</div>
<p><strong>OUTPUT:</strong> <code>dtype('O')</code></p>
<p>A type ‘O’ just stands for “object” which in Pandas’ world is a
string (text).</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>works_df[<span class="st">'publication_date'</span>].dtype</span></code></pre>
</div>
<p><strong>OUTPUT:</strong> <code>dtype('int64')</code></p>
<p>The type <code>int64</code> tells us that python is storing each
value within this column as a 64 bit integer. We can use the
<code>dat.dtypes</code> command to view the data type for each column in
a DataFrame (all at once).</p>
</div>
<div class="section level3">
<h3 id="working-with-integers-and-floats">Working With Integers and Floats<a class="anchor" aria-label="anchor" href="#working-with-integers-and-floats"></a></h3>
<p>Integers are the numbers we usually count with. Floats have
fractional parts (decimal places). Let’s next consider how the data type
can impact mathematical operations on our data. Addition, subtraction,
division and multiplication work on floats and integers as we’d
expect.</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="bu">print</span>(<span class="dv">5</span><span class="op">+</span><span class="dv">5</span>)</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="dv">10</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="bu">print</span>(<span class="dv">24</span><span class="op">-</span><span class="dv">4</span>)</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="dv">20</span></span></code></pre>
</div>
<p>If we divide one integer by another, we get a float. The result on
python 3 is different than in python 2, where the result is an integer
(integer division).</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="bu">print</span>(<span class="dv">5</span><span class="op">/</span><span class="dv">9</span>)</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="fl">0.5555555555555556</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="bu">print</span>(<span class="dv">10</span><span class="op">/</span><span class="dv">3</span>)</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="fl">3.3333333333333335</span></span></code></pre>
</div>
<p>We can also convert a floating point number to an integer or an
integer to floating point number. Notice that Python by default rounds
down when it converts from floating point to integer.</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="co"># convert a to integer</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>a <span class="op">=</span> <span class="fl">7.83</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="bu">int</span>(a)</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="dv">7</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a><span class="co"># convert to float</span></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a>b <span class="op">=</span> <span class="dv">7</span></span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a><span class="bu">float</span>(b)</span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a><span class="fl">7.0</span></span></code></pre>
</div>
</div>
</section><section id="pandas-and-type-conversion"><h2 class="section-heading">Pandas and type conversion<a class="anchor" aria-label="anchor" href="#pandas-and-type-conversion"></a>
</h2>
<hr class="half-width"><p>Getting back to our data, we can modify the format of values within
it. Pandas interpreted the <code>mms_id</code> field as and integer, but
it is often more appropriate to treat id fields as strings, so let’s do
that now.</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="co"># convert the record_id field from an integer to a string</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>works_df[<span class="st">'mms_id'</span>] <span class="op">=</span> works_df[<span class="st">'mms_id'</span>].astype(<span class="st">'str'</span>)</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>works_df[<span class="st">'mms_id'</span>].dtype</span></code></pre>
</div>
<p><strong>OUTPUT:</strong> <code>dtype('O')</code></p>
<p>While we only demonstrated this with <em>str</em> others like
<em>int</em>, <em>float</em>, etc., but not all conversions will succeed
and some may succeed but discard information, so you should always check
on the results of any conversions.</p>
</section><section id="missing-data-values---nan"><h2 class="section-heading">Missing Data Values - NaN<a class="anchor" aria-label="anchor" href="#missing-data-values---nan"></a>
</h2>
<hr class="half-width"><p>Our <em>all_works.csv</em> file was carefully constructed to have no
missing values in the form of <code>null</code> or <code>NaN</code>, so
we will be importing a variant of that file that contains missing
values.</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>null_df <span class="op">=</span> pd.read_csv(<span class="st">'null.csv'</span>)</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>pd.isnull(null_df)</span></code></pre>
</div>
<p>A snippet of the output is below:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>	title	subjects	mms_id	author</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="dv">0</span>	<span class="va">False</span>	<span class="va">False</span>	<span class="va">False</span>	<span class="va">False</span>	</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="dv">1</span>	<span class="va">False</span>	<span class="va">False</span>	<span class="va">False</span>	<span class="va">False</span></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="dv">2</span>	<span class="va">False</span>	<span class="va">False</span>	<span class="va">False</span>	<span class="va">False</span></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a><span class="dv">3</span>	<span class="va">False</span>	<span class="va">False</span>	<span class="va">False</span>	<span class="va">False</span></span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a><span class="dv">4</span>	<span class="va">False</span>	<span class="va">False</span>	<span class="va">False</span>	<span class="va">False</span>	</span></code></pre>
</div>
<p><em>NaN</em> (<strong>N</strong>ot <strong>a</strong>
<strong>N</strong>umber) values are undefined values that cannot be
represented mathematically. Pandas, for example, will read an empty cell
in a CSV or Excel sheet as a NaN. NaNs have some desirable properties:
if we were to average the checkouts column in our <em>null_df</em>
without replacing NaNs, Pandas would know to skip over those cells.</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>null_df[<span class="st">'checkouts'</span>].mean()</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="fl">0.5260636799098337</span></span></code></pre>
</div>
<p>Dealing with missing data values is always a challenge. It’s
sometimes hard to know why values are missing - was it because of a data
entry error? Or data that someone was unable to collect? Should the
value be 0? We need to know how missing values are represented in the
dataset in order to make good decisions. If we’re lucky, we have some
metadata that will tell us more about how null values were handled.</p>
<p>For instance, in some disciplines, like Remote Sensing, missing data
values are often defined as -9999. Having a bunch of -9999 values in
your data could really alter numeric calculations. Often in
spreadsheets, cells are left empty where no data are available. Pandas
will, by default, replace those missing values with NaN. However it is
good practice to get in the habit of intentionally marking cells that
have no data, with a no data value! That way there are no questions in
the future when you (or someone else) explores your data.</p>
<div class="section level3">
<h3 id="where-are-the-nans">Where Are the NaN’s?<a class="anchor" aria-label="anchor" href="#where-are-the-nans"></a></h3>
<div class="section level4">
<h4 id="finding-columns">Finding Columns<a class="anchor" aria-label="anchor" href="#finding-columns"></a></h4>
<p>Two options for finding what columns contain <em>NaN</em> values are
as follows:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="co"># this method provides several columns of information including one that is a count of the not null values in</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="co"># each colum</span></span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>null_df.info()</span></code></pre>
</div>
<p>which <strong>returns</strong>:</p>
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 14232 entries, 0 to 14231
Data columns (total 11 columns):
 #   Column             Non-Null Count  Dtype  
---  ------             --------------  -----  
 0   title              14196 non-null  object 
 1   subjects           14196 non-null  object 
 2   mms_id             14196 non-null  float64
 3   author             8505 non-null   object 
 4   publication_date   14232 non-null  float64
 5   publication_place  14196 non-null  object 
 6   language_code      14196 non-null  object 
 7   resource_type      14196 non-null  object 
 8   acquisition_date   14196 non-null  object 
 9   is_dei             14196 non-null  object 
 10  checkouts          14196 non-null  float64
dtypes: float64(3), object(8)
memory usage: 1.2+ MB</code></pre>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="co"># this method takes advantage of the interpretation of true as 1 and false as 0</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="co"># to return a series </span></span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>null_df.isnull().<span class="bu">sum</span>()</span></code></pre>
</div>
<p>which <strong>returns</strong>:</p>
<pre><code>title                  36
subjects               36
mms_id                 36
author               5727
publication_date        0
publication_place      36
language_code          36
resource_type          36
acquisition_date       36
is_dei                 36
checkouts              36
dtype: int64</code></pre>
</div>
<div class="section level4">
<h4 id="finding-the-actual-null-entries">Finding the actual null entries<a class="anchor" aria-label="anchor" href="#finding-the-actual-null-entries"></a></h4>
<p>We can use the <code>isnull</code> method to do this. The
<code>isnull</code> method will compare each cell with a null value. If
an element has a null value, it will be assigned a value of
<code>True</code> in the output object.</p>
<p>To select the rows where there are null values, we can use the mask
as an index to subset our data as follows:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="co"># To select just the rows with NaN values, we can use the 'any()' method</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>null_df[pd.isnull(null_df).<span class="bu">any</span>(axis<span class="op">=</span><span class="dv">1</span>)]</span></code></pre>
</div>
<p>We can run <code>isnull</code> on a particular column too. What does
the code below do?</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="co"># what does this do?</span></span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a>empty_authors <span class="op">=</span> null_df[null_df[<span class="st">'author'</span>].isnull()]</span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a><span class="bu">print</span>(empty_authors)</span></code></pre>
</div>
<p>Let’s take a minute to look at the statement above. We are using the
Boolean object <code>null_df['author'].isnull()</code> to filter
<code>null_df</code>. We are asking Python to select rows that have a
<code>NaN</code> value of author. While we obtained the booleans using a
method of the author column, we could have done it using
<code>pd.isnull(null_df['author'])</code> instead if we preferred.</p>
</div>
<div class="section level4">
<h4 id="dealing-with-the-nans">Dealing with the NaN’s?<a class="anchor" aria-label="anchor" href="#dealing-with-the-nans"></a></h4>
<p>Assuming we determine that missing checkouts indeed should be zero,
we can replace all <em>NaN</em> values with zeroes using the
<code>.fillna()</code> method:</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="co"># fill all NaN values with 0</span></span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a>null_df[<span class="st">'checkouts'</span>] <span class="op">=</span> null_df[<span class="st">'checkouts'</span>].fillna(<span class="dv">0</span>)</span></code></pre>
</div>
<p>However NaN and 0 yield different analysis results. The mean value
when NaN values are replaced with 0 is different from when NaN values
are simply thrown out or ignored.</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a>null_df[<span class="st">'checkouts'</span>].mean()</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a><span class="fl">0.5247329960652052</span></span></code></pre>
</div>
<p>We can fill NaN values with any value that we chose. While a bit
silly, the code below fills all NaN values in the publication_date
column with the mean for mean for all publication_dates. This is
possible because our publications_date is just the 4 digit year with
dtype of integer.</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a> null_df[<span class="st">'publication_date'</span>] <span class="op">=</span> null_df[<span class="st">'publication_date'</span>].fillna(null_df[<span class="st">'publication_date'</span>].mean())</span></code></pre>
</div>
<p>We could also choose to create a subset of our data, only keeping
rows that do not contain NaN values.</p>
<p>The point is to make conscious decisions about how to manage missing
data. This is where we think about how our data will be used and how
these values will impact the scientific conclusions made from the
data.</p>
<p>Python gives us all of the tools that we need to account for these
issues. We just need to be cautious about how the decisions that we make
impact the validity of any conclusions drawn from it.</p>
</div>
</div>
</section><section id="recap"><h2 class="section-heading">Recap<a class="anchor" aria-label="anchor" href="#recap"></a>
</h2>
<hr class="half-width"><p>What we’ve learned:</p>
<ul><li>How to explore the data types of columns within a DataFrame</li>
<li>How to change the data type</li>
<li>What NaN values are, how they might be represented, and what this
means for your work</li>
<li>How to replace NaN values, if desired</li>
</ul></section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Previous and Next Chapter"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="index-slice-subset.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="merging-data.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="index-slice-subset.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Indexing, Slicing
        </a>
        <a class="chapter-link float-end" href="merging-data.html" rel="next">
          Next: Combining DataFrames... 
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>
        
        <a href="https://github.com/carpentries-incubator/python-humanities-lesson/edit/main/episodes/data-types-and-format.md" class="external-link">Edit on GitHub</a>
        
	
        | <a href="https://github.com/carpentries-incubator/python-humanities-lesson/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/carpentries-incubator/python-humanities-lesson/" class="external-link">Source</a></p>
				<p><a href="https://github.com/carpentries-incubator/python-humanities-lesson/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:team@carpentries.org">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">
        
        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>
        
        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.4" class="external-link">sandpaper (0.16.4)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.5" class="external-link">pegboard (0.7.5)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.2" class="external-link">varnish (1.0.2)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://carpentries-incubator.github.io/python-humanities-lesson/data-types-and-format.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "Data Types and Formats",
  "creativeWorkStatus": "active",
  "url": "https://carpentries-incubator.github.io/python-humanities-lesson/data-types-and-format.html",
  "identifier": "https://carpentries-incubator.github.io/python-humanities-lesson/data-types-and-format.html",
  "dateCreated": "2024-06-04",
  "dateModified": "2024-05-16",
  "datePublished": "2024-06-04"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo
    2022-11-07: we have gotten a notification that we have an overage for our
    tracking and I'm pretty sure this has to do with Workbench usage.
    Considering that I am not _currently_ using this tracking because I do not
    yet know how to access the data, I am turning this off for now.
  <script>
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
    _paq.push(["setDomains", ["*.preview.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
    _paq.push(["setDoNotTrack", true]);
    _paq.push(["disableCookies"]);
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
          var u="https://carpentries.matomo.cloud/";
          _paq.push(['setTrackerUrl', u+'matomo.php']);
          _paq.push(['setSiteId', '1']);
          var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
          g.async=true; g.src='https://cdn.matomo.cloud/carpentries.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
        })();
  </script>
  End Matomo Code --></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

